<!--
 * @Author: vickiWu
 * @Date: 2022-02-10 09:59:19
 * @LastEditTime: 2022-03-07 15:49:47
 * @LastEditors: vickiWu
 * @Description:
 * @FilePath: \d5c-main\src\components\Map\åœ°å›¾ä½¿ç”¨è¯´æ˜.md
-->

## åœ°å›¾ç»„ä»¶ä½¿ç”¨è¯´æ˜

- çº¿è·¯è§„åˆ’ :driving-data
- è¡Œè½¦è½¨è¿¹ :track
- è½¨è¿¹å›æ”¾ :show-paths
- å¤š mark ç‚¹ç»˜åˆ¶ :mark-data

#### éœ€æ±‚

- åœ¨åœ°å›¾ä¸Šé€‰ç‚¹-è¿”å›ä¸‰çº§åœ°å€ï¼Œåæ ‡ï¼Œè¯¦ç»†åœ°å€
- çº¿è·¯è§„åˆ’ ï¼ˆæ¨èçº¿è·¯ï¼Œæœ€çŸ­çº¿è·¯ï¼Œä¸èµ°é«˜é€Ÿï¼‰
- çº¿è·¯è§„åˆ’ ï¼ˆæ·»åŠ é€”å¾„ç‚¹ï¼Œæ ‡æ³¨ç‚¹ï¼Œæ¨èçº¿è·¯ï¼Œçº¿è·¯æ—¶é•¿ï¼Œçº¿è·¯æ€»é•¿è®¡ç®—ï¼‰
- è¡Œè½¦è½¨è¿¹ ï¼ˆèµ·ç‚¹ï¼Œç»ˆç‚¹ï¼Œè½¦å®æ—¶ç‚¹ï¼Œæœªæ‰§è¡Œçš„çº¿è·¯è§„åˆ’ï¼‰
- è¿åŠ›ç›‘æ§ ï¼ˆè½¦è¾†å®æ—¶çŠ¶å†µï¼ˆåŠ¨ç”»ï¼‰ï¼Œç‚¹å‡»æŸ¥çœ‹è¡Œè½¦æ—¥å¿—ï¼‰
- è¡Œè½¦æ—¥å¿— ï¼ˆè¡Œè½¦è¿‡ç¨‹ä¸­äº‹ä»¶ç‚¹ï¼Œè½¨è¿¹å›æ”¾ï¼‰
- é€‰ç‚¹è·å–åœ°å€ ï¼ˆï¼‰
- æ‹–æ‹½çº¿è·¯ï¼ŒåŠ é€”å¾„ç‚¹
- æ ¹æ®ç»çº¬åº¦è·å–åœ°å€
- åœ°å›¾åˆ é™¤ç‚¹
- è¾“å…¥è”æƒ³æœç´¢

### å­ç³»ç»Ÿè°ƒç”¨

1. æ³¨å…¥ç»„ä»¶

```javascript
components: {
  MyMap: window.commonComponent.MyMap;
}
```

2.é¡µé¢ä½¿ç”¨ç»„ä»¶

```javascript
<MyMap
  ref="myDashboardMap"
  mid="myDashboardMap"
  class="map"
  @carClick="carClickHandel"
/>
```

### çº¿è·¯è§„åˆ’

1. ä¼ å€¼ props:drivingData,çº¿è·¯è§„åˆ’åŒ…æ‹¬çº¿è·¯é€”å¾„ç‚¹ï¼Œèµ·ç‚¹ç»ˆç‚¹ï¼Œè·¯çº¿é‡ç»˜é¢œè‰²ï¼Œç­–ç•¥ï¼Œæ˜¯å¦å±•ç¤ºè·¯å†µç­‰è®¾ç½®

```javascript
//ç­–ç•¥å–å€¼
æ¨èçº¿è·¯: time;
æœ€çŸ­è·¯ç¨‹: distance;
ä¸èµ°é«˜é€Ÿ: fee;
```

```javascript
drivingData = {
  policy: "time", // ç­–ç•¥ time   æ¨èçº¿è·¯
  showTraffic: false, // æ˜¯å¦å±•ç¤ºè·¯å†µ
  waypoints: undefined, // [[116.379028, 39.885042]], // é€”å¾„ç‚¹
  start: undefined, // [116.379028, 39.865042], // èµ·ç‚¹
  end: undefined, // [116.427281, 39.903719], // ç»ˆç‚¹
  needChangeColor: false, // æ˜¯å¦éœ€è¦æ”¹å˜é¢œè‰²
  lineColor: undefined, // '#ea283d' å¯¼èˆªçº¿è·¯è‡ªå®šä¹‰é¢œè‰²
  hanPanel: true, // æ˜¯å¦æœ‰çº¿è·¯è¯¦æƒ…å±•ç¤ºé¢æ¿
};
```

2. ç›‘å¬@drivingRoute è·å–çº¿è·¯ç›¸å…³è¿”å›å€¼

```javascript
// è¿”å›è´¹ç”¨ æ—¶é•¿ é‡Œç¨‹æ•°ä¿¡æ¯
const resultData = {
  allTimes: "é¢„è®¡æ—¶é—´", // åˆ†é’Ÿ
  allDistance: "é‡Œç¨‹æ•°", // å…¬é‡Œæ•°
  tolls: "ETC è´¹ç”¨", // æ”¶è´¹
  policy: "çº¿è·¯ç­–ç•¥", // æœ€ä½³çº¿è·¯ / æœ€çŸ­æ—¶é—´ / ä¸èµ°é«˜é€Ÿ
};
```

### è¡Œè½¦è½¨è¿¹

ä¼ å€¼ props:paths,å³è½¨è¿¹çš„æ‰€æœ‰ç»çº¬åº¦ç‚¹

```javascript
track = [
  [116.478935, 39.997761],
  [116.478939, 39.997825],
  [116.478912, 39.998549],
  [116.478912, 39.998549],
  [116.478998, 39.998555],
  [116.478998, 39.998555],
  [116.479282, 39.99856],
  [116.479658, 39.998528],
  [116.480151, 39.998453],
  [116.480784, 39.998302],
  [116.480784, 39.998302],
  [116.481149, 39.998184],
  [116.481573, 39.997997],
  [116.481863, 39.997846],
  [116.482072, 39.997718],
  [116.482362, 39.997718],
  [116.483633, 39.998935],
  [116.48367, 39.998968],
  [116.484648, 39.999861],
];
```

### è½¨è¿¹å›æ”¾

ä¼ å€¼ props:showPaths,å³è½¨è¿¹å›æ”¾çš„æ‰€æœ‰ç»çº¬åº¦ç‚¹

```javascript
showPaths = [
  [116.478935, 39.997761],
  [116.478939, 39.997825],
  [116.478912, 39.998549],
  [116.478912, 39.998549],
  [116.478998, 39.998555],
  [116.478998, 39.998555],
  [116.479282, 39.99856],
  [116.479658, 39.998528],
  [116.480151, 39.998453],
  [116.480784, 39.998302],
];
```

### å¤šç‚¹ç»˜åˆ¶

ä¼ å€¼ markDataï¼Œæ”¯æŒå•ç‚¹ï¼Œå¤šç‚¹ï¼Œå‚æ•°åŒ…æ‹¬ç‚¹çš„ç»çº¬åº¦ï¼Œç‚¹å›¾æ ‡

```javascript
markData = [
  { LngLat: [116.35, 39.89], icon: require("@/assets/mapImg/car-1.png") },
  { LngLat: [116.38, 39.92] },
];
```

### åœ°å›¾é€‰ç‚¹è·å–åœ°å€

1.ç»‘å®šç›‘å¬äº‹ä»¶ @mapClickGetAddress
props :clickMapAddMark é»˜è®¤ä¸å¯åŠ ç‚¹

```javascript
 <MyMap
  ref="myDashboardMap"
  mid="myDashboardMap"
  clickMapAddMark
  class="map"
  @mapClickGetAddress="mapClickGetAddressHandel"
/>
```

2. å›è°ƒå¤„ç†

```
clickMapAddMark = {
  icon:require('@/assets/mapImg/car-1.png'),
  isSingle:true, // æ˜¯ä¸æ˜¯å•ç‚¹ é»˜è®¤æ˜¯å•ç‚¹ï¼Œåªä¿ç•™ä¸€ä¸ªç‚¹
}
mapClickGetAddressHandel(result){
  console.log('%c ğŸ› result: ', 'font-size:20px;background-color: #FCA650;color:#fff;', result);
}
```

### æ‹–æ‹½çº¿è·¯

1. props :dragData

```javascript
{
  policy: "time", // ç­–ç•¥ å¯ä¸ä¼  é»˜è®¤æœ€å¿«çº¿è·¯
  showTraffic: false, // æ˜¯å¦å±•ç¤ºè·¯å†µ
  waypoints: undefined, // [[116.379028, 39.885042]], // é€”å¾„ç‚¹
  start: undefined, // [116.379028, 39.865042], // èµ·ç‚¹
  end: undefined, // [116.427281, 39.903719], // ç»ˆç‚¹
}
```

2. ç›‘å¬ @dragRoute è·å–è¿”å›å€¼

```javascript
// è¿”å›å€¼
{
  start: "[èµ·ç‚¹ç»çº¬åº¦]",
  end: "[ç»ˆç‚¹ç»çº¬åº¦]",
  waypoints: "[é€”å¾„ç‚¹ç»çº¬åº¦]",
  allTimes: "æ—¶é•¿ åˆ†é’Ÿ", // åˆ†é’Ÿ
  allDistance: "æ€»é‡Œç¨‹ å…¬é‡Œæ•°", // å…¬é‡Œæ•°
  tolls: "etc æ”¶è´¹", // æ”¶è´¹
  policy: "çº¿è·¯ç­–ç•¥"
}
```

### æ ¹æ®ç»çº¬åº¦è·å–åœ°å€

```javascript
this.$refs.myDashboardMap.getAddress([lng, lat], (address) => {
  console.log(
    "%c åœ°å€ address: ",
    "font-size:20px;background-color: #33A5FF;color:#fff;",
    address
  );
});
```

### åœ°å›¾åˆ é™¤ç‚¹ å…¥å‚ç‚¹å¯¹è±¡

```javascript
this.$refs.myDashboardMap.delMark(mark);
```

### è¾“å…¥è”æƒ³æœç´¢

```javascript

```
